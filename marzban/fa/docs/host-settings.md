# تنظیمات هاست

هدف از تنظیمات هاست، سفارشی سازی کانفیگ ها است.
به کمک تنظیمات هاست، شما میتوانید کانفیگ های خاصی برای هر اینباند بسازید. هر کانفیگ میتواند تنظیمات خاصی داشته باشد. در تنظیمات هاست فیلد های زیر قابل ویرایش هستند.

- Remark
- Address
- Port
- SNI
- Host
- Security Layer (TLS, None)
- ALPN (h2, http/1.1)
- Fingerprint

با تنظیماتی که در این بخش انجام میدهید، شما میتوانید برای هر اینباند، چندین آدرس یا دامین با نام های مختلف تعیین کنید. یکی از کاربرد های این بخش این است که اگر سرور شما با تنظیمات خاصی نگهداری میشود، ممکن است لازم باشد پورت اتصال کاربر با پورت اینباند متفاوت باشد. با تنظیمات این بخش شما میتونید پورت اتصال، SNI، هاست و... را سفارشی سازی کنید.

به طور پیشفرض، آیپی سرور به عنوان Address و تنظیمات پیشفرض اینباند (پورت و...) برای هر کانفیگ تنظیم میشود. برای سفارشی سازی کانفیگ ها، لازم است این بخش را ویرایش کنید.

::: info نکته
تنظیمات هاست الویت بالاتری نسبت به تنظیمات دیگر دارد. فیلد هایی که در این این بخش تنظیم می شوند، با بالاترین الویت در تولید کانفیگ ها اعمال میشوند.
:::

## متغیرها
برای سفارشی سازی حداکثری کانفیگ ها متغییر هایی برای هرکدام طراحی شده است. در هر فیلد لازم است از متغیر های همان فیلد استفاده شود.

::: warning توجه
دقت کنید که متغیر ها حتما باید همراه با `}‍` و `{` در فیلد ها قرار داده شوند.
:::

### Remark

| نام متغیر      | توضیحات                                                    |
| -------------- | ---------------------------------------------------------- |
| `{SERVER_IP}`  | آیپی ورژن ۴ سرور                                           |
| `{USERNAME}`   | نام کاربری کاربر                                           |
| `{DATA_USAGE}` | میزان مصرف کاربر                                           |
| `{DATA_LEFT}`  | میزان حجم باقی مانده کاربر                                 |
| `{DATA_LIMIT}` | میزان حجم کلی کاربر                                        |
| `{DAYS_LEFT}`  | روز های باقی مانده از اشتراک کاربر                         |
| `{PROTOCOL}`   | پروتکل کانفیگ مثلا: VMess, VLESS, Trojan و...              |
| `{TRANSPORT}`  | روش ترنسپورت کانفیگ(Transport Method) ، مثلا: ws, tcp و... |


به عنوان مثال:

| فیلد remark                                            | خروجی                           |
| ------------------------------------------------------ | ------------------------------- |
| 🚀 سرور ‍‍۱ (\{USERNAME\}) [\{PROTOCOL\} - \{TRANSPORT\}] | 🚀 سرور ۱ (user102) [VMess - ws] |
| \{DAYS_LEFT\} روز باقی مانده                           | 24  روز باقی مانده              |
| حجم مصرفی: \{DATA_LEFT\}/\{DATA_LIMIT\}                | حجم مصرفی: 16.5GB/30GB          |


### Address

| نام متغیر      | توضیحات                                                    |
| -------------- | ---------------------------------------------------------- |
| `{SERVER_IP}`  | آیپی ورژن ۴ سرور                                           |
| `{USERNAME}`   | نام کاربری کاربر                                           |
| `{DATA_USAGE}` | میزان مصرف کاربر                                           |
| `{DATA_LEFT}`  | میزان حجم باقی مانده کاربر                                 |
| `{DATA_LIMIT}` | میزان حجم کلی کاربر                                        |
| `{DAYS_LEFT}`  | روز های باقی مانده از اشتراک کاربر                         |
| `{PROTOCOL}`   | پروتکل کانفیگ مثلا: VMess, VLESS, Trojan و...              |
| `{TRANSPORT}`  | روش ترنسپورت کانفیگ(Transport Method) ، مثلا: ws, tcp و... |

## ایجاد عبارت تصادفی

در بعضی مواقع نیاز است بخشی از فیلد های SNI و Host به صورت تصادفی تولید شوند. این تکنیک در بعضی مواقع برای جلوگیری از اتصال های زیاد به یک ساب دامین خاص استفاده میشود. در این صورت هر کاربر به یک ساب دامین تصادفی متصل میشود.

برای استفاده از این قابلیت، در فیلد های SNI و Host از کاراکتر `*` استفاده کنید.


::: warning نکته
توجه داشته باشید که در این صورت لازم است تنظیمات مربوط به wildcard  دامنه انجام شده باشد.
:::


به عنوان مثال:

| فیلد host یا SNI       | نمونه عبارت تولید شده در کانفیگ به ازای این فیلد ها |
| ---------------------- | --------------------------------------------------- |
| `*.example.com`        | 32ks0ef23402.example.com                            |
| `access-*.example.com` | access-laks038fn201.example.com                     |

### چندین Host و SNI

در صورتی که لازم است چندین آدرس مختلف برای Host و SNI تنظیم شود می توانید آن آدرس ها را با `,` از هم جدا کنید. برای هر کاربر به صورت تصادفی یکی از این آدرس ها انتخاب خواهد شد.
